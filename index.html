<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Memory Shapes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="images/icon.png" />
    <!-- JS extern -->
    <script src="js/shapes.js" defer></script>
    <script src="js/index.js" defer></script>
  </head>
  <body
    class="min-h-screen bg-gradient-to-br from-indigo-100 to-blue-50 flex items-center justify-center font-sans"
  >
    <div
      class="w-[450px] bg-white rounded-3xl shadow-xl border border-indigo-200 p-6 flex flex-col gap-6"
    >
      <!-- Header -->
      <div class="flex flex-col justify-center">
        <div class="flex items-center justify-center gap-2 relative">
          <h1 class="text-2xl font-bold text-indigo-700">Memory Shapes</h1>
          <button
            id="rulesIconBtn"
            class="text-indigo-500 hover:text-indigo-700 transition"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13 16h-1v-4h-1m1-4h.01M12 20c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z"
              />
            </svg>
          </button>
        </div>
        <p class="text-center text-gray-500 text-sm mt-1">
          Train your short-term memory by recalling sequences of colored shapes.
        </p>
      </div>

      <!-- Rules Modal -->
      <div
        id="rulesModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
      >
        <div
          class="bg-white rounded-3xl p-6 w-96 shadow-lg flex flex-col gap-4"
        >
          <h2 class="text-xl font-bold text-indigo-700 text-center">
            Game Rules
          </h2>
          <p class="text-gray-700 text-sm">
            1. You will see a sequence of colored shapes.<br />
            2. Try to memorize the sequence of them as instructed.<br />
            3. Select the correct color and shape in order as it is required.<br />
            4. You have limited time for each round, set by your choice.<br />
            5. Complete all fields before submitting.
          </p>
          <button
            id="closeRulesBtn"
            class="mt-2 w-full bg-indigo-600 text-white font-semibold rounded-xl py-2 hover:bg-indigo-700 transition"
          >
            Got it!
          </button>
        </div>
      </div>

      <!-- Control panel -->
      <div id="controlPanel" class="flex flex-col gap-4">
        <!-- Time selector -->
        <div class="flex flex-col">
          <label
            for="timeSelector"
            class="text-sm font-semibold text-gray-700 mb-1"
          >
            Response time
          </label>
          <select
            id="timeSelector"
            class="border border-gray-300 rounded-lg px-3 py-2 text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"
          >
            <option value="20" selected>20 seconds</option>
            <option value="30">30 seconds</option>
            <option value="60">60 seconds</option>
            <option value="90">90 seconds</option>
          </select>
        </div>

        <!-- Start button -->
        <button
          id="startBtn"
          class="w-full h-12 bg-indigo-600 text-white font-semibold rounded-xl shadow hover:bg-indigo-700 transition"
        >
          Start Game
        </button>
      </div>

      <!-- Display area -->
      <div
        id="displayArea"
        class="flex items-center justify-center bg-gradient-to-br from-indigo-100 to-blue-50 shadow-lg rounded-3xl h-64 border border-gray-200 mt-3"
      >
        <div id="initialMessageBox" class="text-center text-gray-700">
          Press Start to begin the game.
        </div>
        <div id="bigShapeContainer"></div>
      </div>

      <!-- Selection area -->
      <div
        id="selectionArea"
        class="hidden bg-white shadow-md rounded-2xl p-4 flex flex-col gap-4"
      >
        <div class="flex justify-between items-center mt-2">
          <!-- <span id="roundInfo" class="text-gray-700">Round: 0/4</span> -->
          <span id="timerLabel" class="text-red-500 font-semibold"></span>
          <div id="messageLabel" class="text-red-500 text-sm mt-1"></div>
        </div>
      </div>

      <!-- Summary area -->
      <div
        id="summaryArea"
        class="hidden bg-indigo-50 shadow-lg rounded-3xl p-4 flex flex-col items-center gap-4"
      >
        <h3 class="font-bold text-2xl text-indigo-700">Final Results</h3>
        <div id="summaryText" class="text-gray-800 text-center text-lg"></div>
        <button
          id="playAgainBtn"
          class="px-5 py-2 bg-indigo-600 text-white font-semibold rounded-xl shadow hover:bg-indigo-700 transition"
        >
          Play Again
        </button>
      </div>
    </div>
  </body>
</html>
